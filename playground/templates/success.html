<h1>Email Verified</h1>
<form method="post" action="{% url 'send_invite' %}">
    {% csrf_token %}
    <!-- Listbox for Invitee Emails -->
    <label for="invitees">Invitees:</label>
    <br>
    <select id="invitees" name="invitees" multiple required>
        <!-- Existing invitee emails (if any) can be displayed here -->
    </select>
    <input id="invitee_input" type="email" multiple>
    <button type="button" id="add_invitee_button">+</button>
    <br><br>
    <!-- Listbox for Meeting Times -->
    <label for="meeting_times">Meeting Times:</label>
    <br>
    <select id="meeting_times" name="meeting_times" multiple required>
        <!-- Existing meeting times (if any) can be displayed here -->
    </select>
    <input id="meeting_time_input" type="datetime-local" multiple>
    <button type="button" id="add_time_button">+</button>
    <br><br>
    <button class="btn btn-primary" type="submit">Send Invite</button>
</form>

<!-- JavaScript to handle + button clicks -->
<script>
    // Function to add emails to the invitee listbox
    function addInvitee() {
        var inviteeEmail = document.getElementById("invitee_input").value.trim();
        if (inviteeEmail) {
            var inviteesList = document.getElementById("invitees");
            var option = document.createElement("option");
            option.text = inviteeEmail;
            inviteesList.add(option);
            document.getElementById("invitee_input").value = "";
        }
    }

    // Function to add meeting times to the meeting times listbox
    function addMeetingTime() {
        var meetingTime = document.getElementById("meeting_time_input").value.trim();
        if (meetingTime) {
            var meetingTimesList = document.getElementById("meeting_times");
            var option = document.createElement("option");
            option.text = meetingTime;
            meetingTimesList.add(option);
            document.getElementById("meeting_time_input").value = "";
        }
    }

    // Add event listeners to + buttons
    document.getElementById("add_invitee_button").addEventListener("click", addInvitee);
    document.getElementById("add_time_button").addEventListener("click", addMeetingTime);
</script>
